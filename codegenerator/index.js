#!/usr/bin/env node
const yargs = require('yargs/yargs');
const { hideBin } = require('yargs/helpers');
const fs = require('fs');
const path = require('path');
const log = require('./logger').logger;
const Template = require('./template-renderer').Template;
const { CodeGeneration } = require('./code-generation');


const cli = yargs(hideBin(process.argv));

cli
	.help('h')
	.alias('h', 'help')
	.demandOption([ 'generation', 'catalog', 'project' ])
	.describe('catalog', 'Data generated by spring-crud-generator')
	.describe('project', 'the project path to generate the code')
	.describe('generation', 'the generation assets location')
	.command('codegenerator [catalog] [script]',
		'Generates code using a catalog and a script')
	;


new CodeGeneration(cli.argv).generate();